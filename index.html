<!DOCTYPE html>
<html>
  <head>
    <title>CyberWVU Login</title>
    <!-- CSS  -->
    <link rel="stylesheet" href="app.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="css/materialize.css" type="text/css" rel="stylesheet" media="screen,projection"/>
    <link href="css/style.css" type="text/css" rel="stylesheet" media="screen,projection"/>

    <script src="jquery.js"></script>
    <script src="app.js"></script>
  </head>
  <body>

  <nav class="light-blue lighten-1" role="navigation">
    <div class="nav-wrapper container center-align"><a id="logo-container" href="#" class="brand-logo">Logo</a>
    </div>
  </nav>
    <h1 class="center-align">Welcome to the Prete Lab Sign-in App!</h1>
    <p class="center-align">This app is currently in development. Any problems, suggestions, or feedback is greatly appreciated. Please
    communicate with us at cyberwvu@gmail.com
    </p>
    <h5 class="center-align">To get started, align your face directly with the camera and then press the spacebar to snap a photo.</h5>

    <video class="center-align" width="600" height="400" id="camera" autoplay> </video>
    <script>
        (function() {
            'use strict';
            var video = document.querySelector('video')
                , canvas;

            /**
             *  generates a still frame image from the stream in the <video>
             *  appends the image to the <body>
             */
            function takeSnapshot() {
                var img = document.querySelector('img') || document.createElement('img');
                var context;
                var width = video.offsetWidth
                    , height = video.offsetHeight;

                canvas = canvas || document.createElement('canvas');
                canvas.width = width;
                canvas.height = height;

                context = canvas.getContext('2d');
                context.drawImage(video, 0, 0, width, height);

                img.src = canvas.toDataURL('image/png');
                document.body.appendChild(img);
            }

            // use MediaDevices API
            // docs: https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getUserMedia
            if (navigator.mediaDevices) {
                // access the web cam
                navigator.mediaDevices.getUserMedia({video: true})
                // permission granted:
                    .then(function(stream) {
                        video.src = window.URL.createObjectURL(stream);
                        video.addEventListener('click', takeSnapshot);
                    })
                    // permission denied:
                    .catch(function(error) {
                        document.body.textContent = 'Could not access the camera. Error: ' + error.name;
                    });
            }
        })();
    </script>

    <h5 class="center-align">This text comes after the video stream.</h5>
  </body>
</html>
